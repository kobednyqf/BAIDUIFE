<!DOCTYPE HTML>
<html>
<head>
	<meta></meta>
	<style>
	body{
		font-size: 20px;
	}
	</style>
</head>
<body>
	<textarea id="input_0" type="text"></textarea>
	<button id="sure" onclick="collect()">collect</button>
	<p id="p0"></p>
<script src="js/util.js" type="text/javascript"></script>
<script>
	function collect(){
		var input_0 = document.getElementById("input_0");
		var hobby = input_0.value;
		var Str0 = fordivide(hobby);
		var Str1 = nonullArray(Str0);
		var hobbyStr = uniqArray(Str1);
		var p = document.getElementById("p0");
		if(hobbyStr==false||hobbyStr.length>10){
			p.innerHTML = "error";
			p.style.color = "red";
		}
		else{
			p.innerHTML=null;
			p.style.color = "black";
    		for(var i=0;i<hobbyStr.length;i++){
    			var ckb = document.createElement("input");
    			ckb.type="checkbox";
    			ckb.checked="checked";
    			var lab = document.createElement("label");
    			lab.innerHTML = hobbyStr[i];
    			var br = document.createElement("br");
    			p.appendChild(ckb);
    			p.appendChild(lab);
    			p.appendChild(br);
    		}
		}
	}
	//数组去空	
	function nonullArray(arr){
		var newarr=[];
		//newarr[0] = arr[0];
		var l=0;
		for(var i in arr){
			if(trim(arr[i]) == "")
				continue;//跳出整个循环
			else{
				l++;
				newarr[l-1]=trim(arr[i]);
			}
		}
	return newarr;
	}

	function fordivide(str){
		var arr=[];
		arr[0]="";		
		if(!str)
			return false;
		else{
			for(var j=0,i = 0;i<str.length;i++){
				if(str[i]!=";"&&str[i]!=" "&&str[i]!=","&&str[i]!="`"&&str[i]!="\n"){
					arr[j]+=str[i];
				}
				else if(str[i]==";"||str[i]!=" "||str[i]!=","||str[i]!="`"||str[i]!="\n"){
					arr[++j]="";
				}
			}
		}
		return arr;
	}
</script>
</body>
</html>